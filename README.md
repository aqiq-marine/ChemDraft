全ての操作をキーボード上で完結できる構造式描画ソフト  
ゆくゆくは反応式や共鳴式も描けるようにしたい  
データファイルの都合でsrcから実行してください  


https://user-images.githubusercontent.com/126757126/224889083-4640b5d9-62fc-4fd4-b218-486a158c6308.mp4


<img width="662" alt="pyrethrinI" src="https://user-images.githubusercontent.com/126757126/226516252-59f7e248-cc85-41b8-b621-13d592248f7f.png">


# キーバインド一覧
## 原子選択モード
### 原子追加
h : 水素  
b : ホウ素  
c : 炭素  
n : 窒素  
o : 酸素  
f : フッ素  
p : リン  
s : 硫黄  
k : カリウム  

t : テキストのダミー元素追加（入力モードへ移行）  
\ : ショートカットのない元素の追加（入力モード移行）  

### 移動（フォーカスのある状態で）
ctrl+h : 左  
ctrl+j : 下  
ctrl+k : 上  
ctrl+l : 右  

### その他
x : 原子削除  
ctrl+m : 広域移動モードへ移行  
ctrl+b : フォーカス中の原子と接続する結合（あれば）にフォーカスして結合選択モードに移行  
ctrl+p : フォーカス中の原子があればそれに継続フォーカスを与える  
ctrl+c : フォーカス中の原子と継続フォーカス中の原子があれば、その間に結合をつくる  
ctrl+s : 一時保存  
ctrl+z : 一時保存した時点に戻る  
ctrl+y : 進む  
ctrl+n : 名前を付けて保存（入力モード移行、まだ名前のチェック機能はない）  
shift+; : 原子の価数を+1する  
shift+- : 原子の価数を-1する  

## 結合選択モード
### 結合変更
s : 単結合  
f : 前面単結合  
b : 背面単結合  
w : 太めの単結合  
d : 二重結合（C-C二重結合用の単結合の横に短くもう一本あるタイプ）  
c : 中心から対称に二本結合があるタイプの二重結合  
t : 三重結合  
h : 結合を不可視化  

r : 結合反転（前面単結合や二重結合の向きを反転する）  

### 結合回転
shift+; : 反時計回りに15°回転  
shift+- : 時計回りに15°回転  

### その他
n : 反時計回りに一番近い結合を選択  
p : 時計回りに一番近い結合を選択  
m : 回転などの中心となる原子を結合の反対に変更する  
x : 結合削除  
alt+o : 結合を基準に反時計回りの正多角形になるよう環の最適化  
ctrl+e : 原子選択モードへ移行  

## 入力モード
アルファベット、数字、スペース、'（シングルクォーテーション）が入力可  
enter : 入力確定  
ctrl+[ : キャンセル  
スペースは区切り用  
 - CO<sub>3</sub><sup>2+</sup>とCO<sup>32+</sup>などを区別する用

'は結合位置の表示用
 - 'COOHとすればCに結合する  
 - HCO'OとすればOに結合する  
 - 'がなければ先頭に結合

同位体の入力はできません

## 広域移動モード
### 移動
ctrl+h : 左  
ctrl+j : 下  
ctrl+k : 上  
ctrl+l : 右  

### 検索範囲変更
ctrl+s : 範囲を1/4にする（左上の四角）  
ctrl+m : 範囲を4倍する  

### その他
enter : 検索範囲内の原子があれば、（適当に一つ選択して）それにフォーカスし、原子選択モードへ移行  
ctrl+[ : キャンセル  

# まだできないこと/注意
反応式描画  

## 構造式描画部分
簡略記法で一部の水素を表示
 - ダミー元素でHと入力してください

第四周期以降の元素
 - 面倒なのでまだありません
 - ヨウ素くらいは入れるかもしれませんが、全元素つくるのは全体が完成してからにします
 - ダミー元素を使ってください

undo/redo
 - auto saveはありません
 - 前回保存してから変更がなかったとしても、ひとつ前のセーブポイントに戻ります
   - つまり一回戻っただけでは変化しません
 - undo-redo, redo-undoの際は2回押してください
   - undo-redo : ctrl+z -> ctrl+y -> ctrl+y
   - これは仕様がしっかり決まったら直すかもしれません
